#letterlist = {'a': 126889288794112, 'b': 878469579883413504, 'c': 126908606971904, 'd': 254026140136243200, 'e': 126923539218432, 'f': 259231332913643520, 'g': 122517003464448, 'h': 878469579881840640, 'i': 216437502640914432, 'j': 216437502627597824, 'k': 878443606168043520, 'l': 1084295224584044544, 'm': 268189211033600, 'n': 197283800416256, 'o': 126915049422848, 'p': 267652546366976, 'q': 122517003461568, 'r': 243911611121664, 's': 135822031978496, 't': 439375318046212096, 'u': 241264259497984, 'v': 241235899973632, 'w': 192069298552832, 'x': 261559731093504, 'y': 245661734898688, 'z': 275729232691200, 'A': 17013085786865664, 'B': 17130175186599936, 'C': 8685094800719872, 'D': 17129762869739520, 'E': 17666730419027968, 'F': 17666730316791808, 'G': 8122159880208384, 'H': 15722937740689408, 'I': 16995727174533120, 'J': 8497898490691584, 'K': 15432260797595648, 'L': 15977055925043200, 'M': 9811421859151872, 'N': 15740255047516160, 'O': 8122563606609920, 'P': 17129769210478592, 'Q': 8122563606634496, 'R': 17129769311928320, 'S': 8668290481127424, 'T': 17567473220976640, 'U': 15722387977797632, 'V': 15720023156850688, 'W': 12291095217045504, 'X': 14488003242885120, 'Y': 14581598862704640, 'Z': 17689794393407488, '0': 519844071266582528, '1': 233114895011020800, '2': 519630046612684800, '3': 519631126788046848, '4': 112127576353800192, '5': 1130671107208118272, '6': 519818095304376320, '7': 1132119582536892416, '8': 519842284560187392, '9': 519842370459533312, '-': 4260607557632, '=': 263947215175680, '[': 511265786269122560, ']': 507834472267366400, '\\': 585539428539187200, ';': 1649273800704, "'": 218494950671646720, ',': 3179520, '.': 6291456, '/': 36609622764748800, '`': 434614956227297280, '~': 117372866265088, '!': 6862627600859136, '@': 518646964850638848, '#': 366191545517424640, '$': 9778143692713918464, '%': 1020892731019886592, '^': 152233981935353856, '&': 8094122174316544, '*': 161111713695924224, '(': 74416622409891840, ')': 290535790245642240, '_': 4032, '+': 2291253517484032, '{': 111518529692393472, '}': 871552931825123328, '|': 2287542667870208, ':': 1649273733120, '"': 5718834853969920, '<': 3486577342808064, '>': 6808601603604480, '?': 8049275525136384, ' ': 0}
letterlist = {'あ': 13600341806744443738099540089802221234630677026853196850710570994136713573701645238272, 'い': 3320041541369431902925574080793891708321454491240450558628621984924235122297798656, 'う': 30840341096005424125542479095716954155961156154792846737796217926031682962499525672960, 'え': 30840341096005424128912472377561083612694700450727122427410009828574941124090088390656, 'お': 763915688906796668643882433231562630637083504301880700211203354608115411773360578697887744, 'か': 13598889751386086551879134640481072801533648508093794882116956355756601050432626753536, 'き': 63660775649397623611061446426020289574348026485942057853042087523491276011033952585252864, 'く': 849945431298313505621710930197281075174141949243231589182669236675034017715003064320, 'け': 109216083286374265239584933032314296224868716327411174137951507919747407175803551612928, 'こ': 947656918194573889643858251017848237624656615216909935728191573190002647855267840, 'が': 6991901006776351548301698179665121033076976695080987633856018750153234593303487810895872, 'ぎ': 14926733160558396841416268826212366731496393606306320127539909843021883021320813247725568, 'ぐ': 728528626438830920227215420989160857970101348984983836738991766294296824466416599040, 'げ': 3590531858846905805632935602371934689213295070039110187776528743146663679913611271077888, 'ご': 6962761473622876211849973175195796216971454232454987246944962846697412642576454968672256, 'さ': 31832086826752756104657510220814574273570588719012479412187636443591248847741599050891264, 'し': 54395558992681020080411687719789605277181196142259831565476497850100473204083053821952, 'す': 95487761251955055957070571924333528287054016162014656785964839717527547918728692290813952, 'せ': 425795314990926726202817391972060667480888429319474905046169260010109600573767548928, 'そ': 7650206412805875377953868581286527043876093154095778856617471354094235289794576908288, 'ざ': 195570377060172217956544170384239609488964382341202987614760133713306689880519109077190574080, 'じ': 54516989693941085428691218622823595529472714355633085451957346712614964502447750381568, 'ず': 14923567308557531276305913250482143135894538125858283510594252801337792144352796152430592, 'ぜ': 964590611932939989700952587640742361517193419452448270851942169125627134469325455360, 'ぞ': 7650205493730917528361833817261232793267195384927509545293601336437818637561270108160, 'た': 13598889795550859307603626624334871388629778624935152412626943363252676812019695878144, 'ち': 11656428410084994018228247378860099150822815383402484112010210382919565400201179955200, 'つ': 395884076091463574341347190980773702408430020075603695770765405537399996416, 'て': 1896963899237789172911701176218321730669565950819743997879789370872368622332805120, 'と': 54395558993627956824447071521045947066789221918225878232799429201725715988667292450816, 'だ': 27425439633735995485690132586865883353951337844618577967406591058480589697915954397184, 'ぢ': 14947130120492220767796800999282826109249934362849980233126489573097882427604134709428224, 'づ': 6962752969837824348551326291433824416946173004226932710345637475946399098378434281209856, 'で': 1897021795281868631253706853435364518588265682826325986624943642600038687834112000, 'ど': 3030799550533332010868008023342819102390499023921122135756486230948656543189103387082752, 'な': 763902090015235169160647431122878132092471352820061119362443601343244434607620937217998848, 'に': 108791165693508482122879109647016698307983949854504421206699261046579084729578476797952, 'ぬ': 3399722487701977006965447289101071114028116241711152341118253806300732444801685782528, 'ね': 1782433677072223216311593680585097182646805628157878346959971965150684083119505542091898880, 'の': 472446191458967210173036853072644668299062622367622617094155101745794233388761088, 'は': 109216083289992773177600460162916094015043187407519943901328034991375960403663386574848, 'ひ': 940289534309770481699098613763446512031491071876026488342074236278885272485101568, 'ふ': 13598911977933242962087097000418764800050081978913856111933024012162165214503808008192, 'へ': 3166296920494953241498885786851289514267247032168072230861745399152571842560, 'ほ': 112418563394359412515619769594794423816433527042360299245367838951533304704752303472640, 'ば': 3078154605928569658373647360406413589350155988211810915928433643657742808009735046955008, 'び': 2984176545777852512307591430765694887068056318026301487828167595357999043636836733812736, 'ぶ': 13598905262951465989673371856229125759792971856359992583484411904988872040934090473472, 'べ': 1389614724016079895250706643981398839350699838829217605877970599657392585048064, 'ぼ': 994763739573534347696096533761666569278606983817274207560698379544160377152547476996096, 'ぱ': 7554063733616649437772087593727801150254261345387940372892609435696178281122535426752512, 'ぴ': 7460085673465934058553096442471412031269662418120946772276240263015392638355838406230016, 'ぷ': 13598913715773987107669192900178919040613490571920525501757392438078622513583322300416, 'ぺ': 6947635007191577702621534910164283141441649422783327509357751378856235996545024, 'ぽ': 7459965812900760695716065759670337490584536944182794534286730079155233838315481358925824, 'ま': 252066979744831191840679675702302317916295329533355200614063008707160587755493781405696, 'み': 7285953223655605537050988539503732692076224194645195039807045623022492364212212334592, 'む': 27197831422746792933029011831186587764173610525480574951747272621963622700578529869824, 'め': 730186793129457632145412455307765277559023518148935608488479683408858753678771748864, 'も': 13598889802787865736043500439056858543915426584083956946896952039047178666087423148032, 'や': 6801112304793343008831991831849140936300985184358472043049849238018360635987786203136, 'ゆ': 95489462747196756134784440785472559741678098247869910155506236386407568709173921177403392, 'よ': 6799444874085130853135858332880951980090618818128774556141257763145804083188165771264, 'ら': 30111840262099438245305559222659301085366604837386384231662383335612123861711220375552, 'り': 54395675712902110128181228888985922365764316933873098966406855685444650521548438896640, 'る': 7650206420042880955286131420223044573337766212625651481531188486812083813626972995584, 'れ': 27197779518251083662396471525043130175658508400129325391795522690098096443316122943488, 'ろ': 1822199743365693742527745699752487853410545695448380331605528119402501309835050483712, 'わ': 1527804180030411565037117361543084456232503072894296953171150331506428721765461602762489856, 'ゐ': 15056625087211664501639693590456344875794684961413280678282547629567461281893567168512, 'ゑ': 62044934463333593573942681590052060423113028488547249992969627487236228244087045619712, 'を': 254643099280320867891611653385078139594541005113796207688293807367421743817295140675911680, 'ん': 6799444875894403061602536221502267056163858714584218767613132872058222215790199832576, 'っ': 92173917570796598660914232002447313939714449686477856969246900224, 'ゝ': 904674010180808524270980452108374508253748796875626245498923700262451281920, '゛': 6111589718240192678655485698799306210974053214139104689267191946292235736789633494117515264, '゜': 30556021433305514816545777468129397728877348347896764726100548811536487307787859380584579072, 'ア': 62199552969944918512271084871435382999179342180805670077857297611641210669047102832640, 'イ': 3242284512704137823770610660038566827937296826043072930101554767303148920897536, 'ウ': 190978922226259514434352795851837523198205213945959813457392880510371866107036228063854592, 'エ': 949060908319316952083582016753218027028173582647257096967696019933653541050122240, 'オ': 1699861233006771458537506324385774550004627189883296257684679247208295037117822664704, 'カ': 6799444888574132613924335404702094581290062370612135475313406954518466050663368359936, 'キ': 13598889746629626400229904150636939984147003479763196235646536628517265851661833732096, 'ク': 445608419387542384551934146553266774106409211981781168604725185096869983595213319357595648, 'ケ': 27197779503581173494446872469612548627816000266983945333423528941430970418082917384192, 'コ': 1422882133944666417226793980815406129163405281020675970482865704835135910161940480, 'サ': 24162313034697044808685955005752549290830679564458713337053906110895960225993231171584, 'シ': 415005632571038253135551521485056574594115452389255690356746159550203226379780096, 'ス': 1896240187349760575006028941028282020471977471503694447133568908316781768676999168, 'セ': 27197779496340513437369314611722728033401891444753633349255435005178057730550988275712, 'ソ': 3323287288539385247207262380188543296041772906647044300239217922586822391996874752, 'タ': 445608419387542384551934146558087772163905843571636941608488463638415393666090703798665216, 'チ': 182243345511511682242963464940763268244546706332162728187531618128567063108120477696, 'ツ': 209172780829998743923473427267343077512969208600074533683705139053081225716563968, 'テ': 46685709936386103268798752932001618774436459753639881551227725530696834094904905826304, 'ト': 444644788909547234916859052076696541611418146968203842138108476835016813876084736, 'ナ': 3399722437043226335970490687000342812248559384885581818057661247206135195823656402944, 'ニ': 28941396526681339912751164695042819113870986961756689013573251024742357401600, 'ヌ': 1896240194417148807836136837627330771004176188650750766380765317041008325345411072, 'ネ': 3399722465185333333579865572454503541130328460381662283593289498056231831817972350976, 'ノ': 6947624299184405694136929611987741160635257263559834102452370161788228103831552, 'ハ': 6530366396907550340326617632299498860335361235511230853643488381415314161664, 'ヒ': 54395558992695156474735700129202933794110606183969922821408672641706273158194784108544, 'フ': 1896703362994199065644746254027338419398229683293071175963882015805798670890172416, 'ヘ': 3166296920494953241498885786851378707039570147032484469833597769645549420544, 'ホ': 3399722480469002218000103580927571878964157846640724015946709633164025499269512298496, 'マ': 2846227448614373301668221242692419137937160183075681612476768838820651676039380992, 'ミ': 466880933749841879706452690115393740035245584355565804273664279328827010778660864, 'ム': 6799444875894403060865338930825419129872437963223891802300091445491836555207265746944, 'メ': 3242277636842344544376114101658297535076531950818843576338872625182067480592384, 'モ': 1896703362686316831837248561039932676017360510371975164793644983920461382334545920, 'ヤ': 23312856710761628060096181700050506036898522982866055163238234733662366581149969416192, 'ユ': 476166005272873116062179349270946366103661436624658443412197442691289896676491264, 'ヨ': 1896703362994199065644747817579771538497386382161000407923948344529546894693629952, 'ラ': 46685709936393170653685404876739099845572599689265429417728393463561193519597221838848, 'リ': 836494816548329781338346924287421593753826100448492188839226892027904360366211072, 'ル': 855948184375035125090401503922021562776973866989750080415482536339756249981648896, 'レ': 830010360606094666754328732416868638449546501787717674291469878210492408572936192, 'ロ': 28944930278106619837139929290456761805100004834495389467268837098956775227392, 'ワ': 3793869905056168551314734890951911116707050575131821975670448895679618530871869440, 'ヰ': 849930623746133539341195442705009941056963429949060151599883401018010163832191713280, 'ヱ': 1896963898728731445133373222328225550725730189516352019754610794522697747297992704, 'ヲ': 1896703366527515756050819535348418810231967182998869129912532890157259796735066112, 'ン': 1660023434806465834649461360145476143525846038363462056683093628387313737084698624, '\u3000': 0}

from PIL import Image
from math import sqrt

img = Image.open(input())

uw = 16
uh = 22

w = img.width
h = img.height
r = sqrt(2000*uw*uh/(w*h*1.5))
img = img.resize((int(w*r)//uw*uw,int(h*r*1.5)//uh*uh))

rgbimg = img.convert('RGB')

def comparetwo(x,y):
    l = x^y
    s = 0
    while l > 0:
        s += l % 2
        l //= 2
    return s

def bestfit(i,j):
    bestmajik = uw*uh+1
    bestletter = ''
    majikaririn = 0
    for b in range(uh):
        for a in range(uw):
            majikaririn *= 2
            if sum(rgbimg.getpixel((i*uw+a,j*uh+b))) < 392.5: #382.5 is average
                majikaririn += 1
    for l in letterlist:
        if comparetwo(letterlist[l],majikaririn) < bestmajik:
            bestmajik = comparetwo(letterlist[l],majikaririn)
            bestletter = l
    return bestletter

for j in range(img.height//uh):
    s = ''
    for i in range(img.width//uw):
        s += bestfit(i,j)
    print(s)
